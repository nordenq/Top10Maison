---
import BaseLayout from "./BaseLayout.astro";
import TableOfContents from "../components/TableOfContents.astro";
import AffiliateDisclosure from "../components/AffiliateDisclosure.astro";

const {
  title,
  description,
  canonical,
  schema,
  tocItems,
  showAffiliateDisclosure
} = Astro.props as {
  title: string;
  description: string;
  canonical: string;
  schema: Array<Record<string, unknown>>;
  tocItems: Array<{ label: string; href: string }>;
  showAffiliateDisclosure: boolean;
};
---

<BaseLayout title={title} description={description} canonical={canonical} schema={schema}>
  <section class="section">
    <div class="mx-auto w-full max-w-6xl gap-8 lg:grid lg:grid-cols-[260px_1fr]">
      <aside class="mb-8 lg:mb-0">
        <TableOfContents items={tocItems} />
        {showAffiliateDisclosure ? <AffiliateDisclosure /> : null}
      </aside>
      <div class="space-y-10">
        <slot />
      </div>
    </div>
  </section>
</BaseLayout>
