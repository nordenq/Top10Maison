---
const { items, id = "faq", title = "FAQ", titleClass = "text-2xl", intro } = Astro.props as {
  items: Array<{ question: string; answer: string }>;
  id?: string;
  title?: string;
  titleClass?: string;
  intro?: string;
};

const normalizedItems = Array.isArray(items) ? items : [];
---

<section id={id}>
  <h2 class={`${titleClass} font-semibold text-ink`}>{title}</h2>
  {intro ? <p class="mt-2 text-sm text-ink/70">{intro}</p> : null}
  <div class="mt-4 divide-y divide-border">
    {normalizedItems.map((item) => (
      <details class="group py-3">
        <summary class="flex cursor-pointer items-center justify-between text-sm font-medium text-ink focus-visible:outline-none focus-visible:text-accent focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-surface focus-visible:rounded-lg">
          <span>{item.question}</span>
          <span class="ml-4 inline-flex h-4 w-4 items-center justify-center text-accent transition-transform group-open:rotate-180">
            <svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path d="M5.6 7.8a1 1 0 0 1 1.4 0L10 10.8l3-3a1 1 0 1 1 1.4 1.4l-3.7 3.7a1 1 0 0 1-1.4 0L5.6 9.2a1 1 0 0 1 0-1.4z" />
            </svg>
          </span>
        </summary>
        <p class="mt-3 text-sm text-ink/60">{item.answer}</p>
      </details>
    ))}
  </div>
</section>
