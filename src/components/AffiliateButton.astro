---
const { url, label = "View on Amazon", productSlug } = Astro.props as {
  url: string;
  label?: string;
  productSlug: string;
};

const isAmazon = url.includes("amazon.") || url.includes("amzn.to");
---

<a
  class="btn"
  href={url}
  rel="nofollow sponsored"
  target="_blank"
  data-affiliate={isAmazon ? "amazon" : undefined}
  data-product={productSlug}
>
  {label}
</a>
