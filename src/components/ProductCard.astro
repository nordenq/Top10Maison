---
import TopPickRow from "./TopPickRow.astro";

export interface Props {
  product: {
    name: string;
    image: string;
    price: string;
    rating?: number;
    brand?: string;
    affiliateUrl: string;
    badge?: string;
    slug?: string;
    description?: string;
    reviewSnippet?: string;
    pros?: string[];
    cons?: string[];
  };
  rank: number;
  schema?: boolean;
  loading?: "lazy" | "eager";
}

const { product, rank, schema = false, loading = "lazy" } = Astro.props as Props;
const reviewUrl = product.slug ? `/product/${product.slug}/` : undefined;
---

<TopPickRow
  image={product.image}
  title={product.name}
  brand={product.brand}
  rating={product.rating}
  priceTag={product.price}
  badge={product.badge}
  summary={product.reviewSnippet ?? product.description}
  pros={product.pros}
  cons={product.cons}
  ctaUrl={product.affiliateUrl}
  reviewUrl={reviewUrl}
  rank={rank}
  schema={schema}
  loading={loading}
/>
